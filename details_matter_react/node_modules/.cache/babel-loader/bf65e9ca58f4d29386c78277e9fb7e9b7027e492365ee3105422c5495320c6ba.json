{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Turn=_ref=>{let{turn,index,onRegenerate,isLoading,isApiKeySet}=_ref;const[showRawResponse,setShowRawResponse]=useState(false);// Extract first sentence for bold display\nconst getFirstSentence=text=>{if(!text)return'';const sentences=text.split(/[.!?]+/);return sentences[0].trim()+(sentences[0].trim()?'.':'');};const firstSentence=getFirstSentence(turn.text);return/*#__PURE__*/_jsxs(\"div\",{className:\"turn\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"turn-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"turn-title\",children:turn.model_name==='Human Input'?\"\\uD83D\\uDC64 \".concat(turn.model_name,\" (Initial Input)\"):\"\\uD83C\\uDFA8 Turn \".concat(index).concat(turn.style?\" - Style: \".concat(turn.style):'')}),/*#__PURE__*/_jsx(\"span\",{className:\"turn-timestamp\",children:turn.timestamp})]}),turn.text&&/*#__PURE__*/_jsxs(\"div\",{className:\"turn-text\",children:[firstSentence&&/*#__PURE__*/_jsx(\"strong\",{children:firstSentence}),turn.text.length>firstSentence.length&&/*#__PURE__*/_jsx(\"span\",{children:turn.text.slice(firstSentence.length)})]}),turn.image?/*#__PURE__*/_jsx(\"img\",{src:turn.image,alt:turn.image_description||\"Generated image for turn \".concat(index),className:\"turn-image\"}):/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',backgroundColor:'#fef3c7',border:'1px solid #f59e0b',borderRadius:'8px',color:'#92400e'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"No image was generated for this turn.\"}),turn.error&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",turn.error,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowRawResponse(!showRawResponse),style:{marginTop:'10px',padding:'5px 10px',backgroundColor:'#6b7280',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:[showRawResponse?'Hide':'Show',\" Raw Response\"]}),showRawResponse&&turn.rawResponse&&/*#__PURE__*/_jsx(\"pre\",{style:{marginTop:'10px',padding:'10px',backgroundColor:'#f3f4f6',borderRadius:'4px',fontSize:'12px',overflow:'auto',maxHeight:'200px'},children:JSON.stringify(turn.rawResponse,null,2)})]})]}),turn.model_name!=='Human Input'&&/*#__PURE__*/_jsx(\"div\",{className:\"turn-controls\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onRegenerate,disabled:!isApiKeySet||isLoading,children:\"\\uD83D\\uDD01 Regenerate\"})})]});};export default Turn;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Turn","_ref","turn","index","onRegenerate","isLoading","isApiKeySet","showRawResponse","setShowRawResponse","getFirstSentence","text","sentences","split","trim","firstSentence","className","children","model_name","concat","style","timestamp","length","slice","image","src","alt","image_description","padding","backgroundColor","border","borderRadius","color","error","marginTop","onClick","cursor","rawResponse","fontSize","overflow","maxHeight","JSON","stringify","disabled"],"sources":["/home/mandubian/workspaces/mandubian/bananhack/details_matter_react/src/components/Turn.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst Turn = ({ turn, index, onRegenerate, isLoading, isApiKeySet }) => {\n  const [showRawResponse, setShowRawResponse] = useState(false);\n\n  // Extract first sentence for bold display\n  const getFirstSentence = (text) => {\n    if (!text) return '';\n    const sentences = text.split(/[.!?]+/);\n    return sentences[0].trim() + (sentences[0].trim() ? '.' : '');\n  };\n\n  const firstSentence = getFirstSentence(turn.text);\n\n  return (\n    <div className=\"turn\">\n      <div className=\"turn-header\">\n        <h3 className=\"turn-title\">\n          {turn.model_name === 'Human Input' ? (\n            `üë§ ${turn.model_name} (Initial Input)`\n          ) : (\n            `üé® Turn ${index}${turn.style ? ` - Style: ${turn.style}` : ''}`\n          )}\n        </h3>\n        <span className=\"turn-timestamp\">{turn.timestamp}</span>\n      </div>\n\n      {turn.text && (\n        <div className=\"turn-text\">\n          {firstSentence && <strong>{firstSentence}</strong>}\n          {turn.text.length > firstSentence.length && (\n            <span>{turn.text.slice(firstSentence.length)}</span>\n          )}\n        </div>\n      )}\n\n      {turn.image ? (\n        <img\n          src={turn.image}\n          alt={turn.image_description || `Generated image for turn ${index}`}\n          className=\"turn-image\"\n        />\n      ) : (\n        <div style={{\n          padding: '20px',\n          backgroundColor: '#fef3c7',\n          border: '1px solid #f59e0b',\n          borderRadius: '8px',\n          color: '#92400e'\n        }}>\n          <strong>No image was generated for this turn.</strong>\n          {turn.error && (\n            <div style={{ marginTop: '10px' }}>\n              <strong>Error:</strong> {turn.error}\n              <br />\n              <button\n                onClick={() => setShowRawResponse(!showRawResponse)}\n                style={{\n                  marginTop: '10px',\n                  padding: '5px 10px',\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                {showRawResponse ? 'Hide' : 'Show'} Raw Response\n              </button>\n              {showRawResponse && turn.rawResponse && (\n                <pre style={{\n                  marginTop: '10px',\n                  padding: '10px',\n                  backgroundColor: '#f3f4f6',\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  overflow: 'auto',\n                  maxHeight: '200px'\n                }}>\n                  {JSON.stringify(turn.rawResponse, null, 2)}\n                </pre>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {turn.model_name !== 'Human Input' && (\n        <div className=\"turn-controls\">\n          <button\n            onClick={onRegenerate}\n            disabled={!isApiKeySet || isLoading}\n          >\n            üîÅ Regenerate\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Turn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}